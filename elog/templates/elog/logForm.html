{% load static %}

<!DOCTYPE HTML>
<html>
  <head>
    <meta charset='UTF-8'>
    <title>HiRA elog</title>
    <script src="{% static 'js/jquery-3.3.1.min.js' %}"></script>
    <script src="{% static 'js//popper.min.js' %}"></script>
    <link rel="stylesheet" type="text/css" href="{% static 'css/GenieStyle.css' %}">
    <link rel="stylesheet" href="{% static 'css/bootstrap.min.css' %}">
    <script src="{% static 'js/bootstrap.min.js' %}"></script>
  </head>
  <body>
    <div class="container">
      <div class="row justify-content-sm-center">
        <div class="col-sm-10">
          <h1>Add a new log</h1>
        </div>
      </div>
      <form action="{% url 'elog:addLog' %}" method="post">
        {% csrf_token %}
        <div class="form-group row justify-content-sm-center">
          <div class="col-sm-5" style="text-align:left">
            <a href="{% url 'elog:index' %}"><button type="button" class="btn btn-secondary btn-sm">Back</button></a>
          </div>
          <div class="col-sm-5" style="text-align:right">
            <input type="submit" class="btn btn-primary btn-sm" value="Submit a new log">
          </div>
        </div>
        <div class="form-row justify-content-sm-center">
          <div class="form-group col-sm-2">
            <label for="runNumber">Run number</label>
            <input type="number" class="form-control form-control-sm" name="runNumber" {% if prevLog %} value="{{ prevLog.run_number }}" {% endif %} required>
          </div>
          <div class="form-group col-sm-3">
            <label for="startTime">Start time</label>
            <input type="text" class="form-control form-control-sm" id="startTime" placeholder="Submission time filled automatically" readonly>
          </div>
          <div class="form-group col-sm-3">
            <label for="stopTime">Stop time</label>
            <input type="text" class="form-control form-control-sm" id="stopTime" placeholder="Submission time filled automatically" readonly>
          </div>
          <div class="form-group col-sm-2">
            <label for="runLength">Run length</label>
            <input type="text" class="form-control form-control-sm" id="runLength" placeholder="Not applicable" readonly>
          </div>
        </div>
        <div class="form-row justify-content-sm-center">
          <div class="form-group col-sm-2">
            <label for="runType">Run type</label>
            <select class="form-control form-control-sm" name="runType">
              <option value="-1">----</option>
              {% for runTypeText in runTypeTextList %}
              <option value={{ forloop.counter0 }} {% if prevLog and prevLog.run_type == forloop.counter0 %} selected {% endif %}>{{ runTypeText }}</option>
              {% endfor %}
            </select>
          </div>
          <div class="form-group col-sm-2">
            <label for="fc73">FC73</label>
            <div class="form-row">
              <div class="col">
                <input type="number" class="form-control form-control-sm" name="fc73Begin" step="0.0001" value="{% if prevLog %}{{ prevLog.fc73_begin }}{% else %}0{% endif %}">
              </div>
              <div class="col">
                <input type="number" class="form-control form-control-sm" name="fc73End" step="0.0001" value="{% if prevLog %}{{ prevLog.fc73_end }}{% else %}0{% endif %}">
              </div>
            </div>
          </div>
          <div class="form-group col-sm-2">
            <label for="fc74">FC74</label>
            <div class="form-row">
              <div class="col">
                <input type="number" class="form-control form-control-sm" name="fc74Begin" step="0.0001" value="{% if prevLog %}{{ prevLog.fc74_begin }}{% else %}0{% endif %}">
              </div>
              <div class="col">
                <input type="number" class="form-control form-control-sm" name="fc74End" step="0.0001" value="{% if prevLog %}{{ prevLog.fc74_end }}{% else %}0{% endif %}">
              </div>
            </div>
          </div>
          <div class="form-group col-sm-2">
            <label for="fc75">FC75</label>
            <div class="form-row">
              <div class="col">
                <input type="number" class="form-control form-control-sm" name="fc75Begin" step="0.0001" value="{% if prevLog %}{{ prevLog.fc75_begin }}{% else %}0{% endif %}">
              </div>
              <div class="col">
                <input type="number" class="form-control form-control-sm" name="fc75End" step="0.0001" value="{% if prevLog %}{{ prevLog.fc75_end }}{% else %}0{% endif %}">
              </div>
            </div>
          </div>
          <div class="form-group col-sm-2">
            <label for="icGasPressure">S800 IC Gas Pressure</label>
            <div class="form-row">
              <div class="col">
                <input type="number" class="form-control form-control-sm" name="icGasPressureBegin" step="0.0001" value="{% if prevLog %}{{ prevLog.ic_gas_pressure_begin }}{% else %}0{% endif %}">
              </div>
              <div class="col">
                <input type="number" class="form-control form-control-sm" name="icGasPressureEnd" step="0.0001" value="{% if prevLog %}{{ prevLog.ic_gas_pressure_end }}{% else %}0{% endif %}">
              </div>
            </div>
          </div>
        </div>
        <div class="form-row justify-content-sm-center">
          <div class="form-group col-sm-10">
            <label for="title">Title</label>
            <input type="text" class="form-control form-control-sm" name="title" {% if prevLog %} value="{{ prevLog.title }}" {% endif %}>
          </div>
        </div>
        <div class="form-row justify-content-sm-center">
          <div class="form-group col-sm-10">
            <label for="note">Note</label>
            <textarea class="form-control form-control-sm" name="note" rows="5">{% if prevLog %}{{ prevLog.note }}{% endif %}</textarea>
          </div>
        </div>
      </form>
    </div>
  </body>
</html>
